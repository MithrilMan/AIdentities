<MudForm Model="@_state" @ref="@_form" Validation="@(_validator.ValidateValue)" ValidationDelay="0" Class="flex-grow-1 d-flex flex-column flex-h-fix gap-2">
   <MudPaper Class="d-flex flex-column flex-grow-1 overflow-y-auto pa-2">
      <MudGrid Spacing="1" Class="">
         <MudItem xs="12">
            <MudTextField @bind-Value="@_state.FirstMessage" Immediate="true" For="() => _state.FirstMessage"
                          Label="First Message" Variant="Variant.Filled" Lines="3"
                          Placeholder="@HELP_FIRST_MESSAGE" />
         </MudItem>
         <MudItem xs="12">
            <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.Center">
               <MudText Typo="Typo.body1" Class="mr-2">Wizard</MudText>
               <MudSwitch @bind-Checked="@_state.UseFullPrompt" Color="Color.Primary" />
               <MudText Typo="Typo.body1" Class="ml-2">Full Prompt</MudText>
            </MudStack>
         </MudItem>
         @if (_state.UseFullPrompt)
         {
            <MudItem xs="12">
               <MudTextField @bind-Value="@_state.FullPrompt" Immediate="true" For="() => _state.FullPrompt"
                          Label="Full Prompt" Variant="Variant.Filled" Lines="16"
                          Placeholder="@HELP_FULL_PROMPT" Disabled="!_state.UseFullPrompt" />
            </MudItem>
         }
         else
         {
            <MudItem xs="12">
               <MudTextField @bind-Value="@_state.Background" Immediate="true" For="() => _state.Background"
                          Label="Background" Variant="Variant.Filled" Lines="8"
                          Placeholder="@HELP_BACKGROUND" Disabled="_state.UseFullPrompt" />
            </MudItem>
         }
      </MudGrid>
   </MudPaper>
</MudForm>
